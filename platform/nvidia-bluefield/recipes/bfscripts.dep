# Mellanox BF build scripts

MPATH       := $($(MLNX_BLUEFIELD_BUILD_SCRIPTS)_SRC_PATH)
DEP_FILES   := $(SONIC_COMMON_FILES_LIST) $(PLATFORM_PATH)/$(RECIPE_DIR)/bfscripts.mk $(PLATFORM_PATH)/$(RECIPE_DIR)/bfscripts.dep
DEP_FILES   += $(SONIC_COMMON_BASE_FILES_LIST)
SMDEP_FILES := $(addprefix $(MPATH)/,$(shell cd $(MPATH) && git ls-files))

$(MLNX_BLUEFIELD_BUILD_SCRIPTS)_CACHE_MODE  := GIT_CONTENT_SHA
$(MLNX_BLUEFIELD_BUILD_SCRIPTS)_DEP_FLAGS   := $(SONIC_COMMON_FLAGS_LIST)
$(MLNX_BLUEFIELD_BUILD_SCRIPTS)_DEP_FILES   := $(DEP_FILES)
$(MLNX_BLUEFIELD_BUILD_SCRIPTS)_SMDEP_FILES := $(SMDEP_FILES)
$(MLNX_BLUEFIELD_BUILD_SCRIPTS)_SMDEP_PATHS := $(MPATH)